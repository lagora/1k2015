!function(){function t(){return Math.random()}function e(d){if(ctx.clearRect(0,0,c,a),ctx.fillText("LVL "+Math.round(1+2*u)+" SCORE "+x,n,n),i)ctx.fillText("GAMEOVER",c/3,a/2);else{var y;for(E=0;E<l;E+=k)o=a<v[E+1],s=h>E,odd=.5<t(),v[E]+=s?t()*u*(t()?-2:2):0,v[E+1]+=0==E?0:o?-1*(a*(t()+1)):v[E+4]+r/2*u+r,0==E%k&&(y+=o&&!s?1:0),x+=!s&&o?1:0,i=s&&v[0]>v[E]&&v[0]<v[E]+v[E+2]&&v[1]<v[E+1],ctx.fillStyle="rgba(255, 255, 255, "+v[E+4]+")",ctx.fillRect(v[E],v[E+1],v[E+2],4*(r+.5));var L=y>l/k;u+=L&&n>u?.2:0,y=L?0:y,f&&(v[0]-=r*(9>u?u:9)+1),w&&(v[0]+=r*(9>u?u:9)+1)}requestAnimationFrame(e)}ctx=window.c,ctx.font="8px";for(var n=8,i=0,c=window.a.width,a=window.a.height,r=1,f=0,w=0,x=0,u=0,k=5,h=8*c,v=[],E=0;h+99>E;E+=k)s=0!=E&&h>E,d=t(),v=v.concat([t()*c,a*(t()+1),s?1:n,s?d:n,s?1-d:1]);v[0]=c/2,v[1]=a-2*n,l=v.length,window.b.addEventListener("keyup",function(){f=w=0,r=1}),window.b.addEventListener("keydown",function(t){ek=t.keyCode,f=37==ek&&v[0]>0,w=39==ek&&v[0]+v[2]<c,r=38==ek?3:1.5}),e()}();
